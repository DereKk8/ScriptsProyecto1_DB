
CREATE TABLE DEPARTAMENTO (
    ID NUMBER(10, 0) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50) UNIQUE NOT NULL,
    PORCENTAJE NUMBER(5, 2) CHECK (PORCENTAJE >= 0 AND PORCENTAJE <= 100) NOT NULL
);


CREATE TABLE TOMADOR (
    ID NUMBER(10, 0) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    CEDULA VARCHAR2(15) UNIQUE NOT NULL,
    NOMBRE VARCHAR2(100) NOT NULL,
    GENERO VARCHAR2(10) CHECK (GENERO IN ('masculino', 'femenino')),
    EDAD NUMBER(3) CHECK (EDAD >= 18 AND EDAD <= 100) NOT NULL,
    IDDEPARTAMENTO NUMBER(10, 0) REFERENCES DEPARTAMENTO(ID) NOT NULL
);


CREATE TABLE TIPO_CUBRIMIENTO (
    ID NUMBER(10, 0) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50) UNIQUE NOT NULL,
    PORCENTAJE NUMBER(5, 2) CHECK (PORCENTAJE >= 0 AND PORCENTAJE <= 100) NOT NULL
);


CREATE TABLE POLIZA (
    ID NUMBER(10, 0) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    NUMERO VARCHAR2(20) UNIQUE NOT NULL,
    VALORASEGURABLE NUMBER(10, 2) DEFAULT 0 CHECK (VALORASEGURABLE >= 0) NOT NULL,
    IDTIPOCUBRIMIENTO NUMBER(10, 0) REFERENCES TIPO_CUBRIMIENTO(ID) NOT NULL,
    IDTOMADOR NUMBER(10, 0) REFERENCES TOMADOR(ID),
    FECHAINICIO DATE NOT NULL,
    FECHAFIN DATE NOT NULL
);


